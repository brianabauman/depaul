<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Worksheet Scheme</title>
<!-- 2018-01-03 Wed 11:09 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="James Riely" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Worksheet Scheme</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Questions and Completion</a></li>
<li><a href="#sec-2">2. Java</a>
<ul>
<li><a href="#sec-2-1">2.1. Statements vs Expressions in Java</a></li>
<li><a href="#sec-2-2">2.2. Prerequisite Material: While Loops, For Loops, Iterators, and Recursion</a></li>
<li><a href="#sec-2-3">2.3. Linked Lists in Java</a></li>
</ul>
</li>
<li><a href="#sec-3">3. C</a>
<ul>
<li><a href="#sec-3-1">3.1. Linked Lists in C</a></li>
</ul>
</li>
<li><a href="#sec-4">4. Scheme</a>
<ul>
<li><a href="#sec-4-1">4.1. Installation</a></li>
<li><a href="#sec-4-2">4.2. Arithmetic</a>
<ul>
<li><a href="#sec-4-2-1">4.2.1. Examples</a></li>
<li><a href="#sec-4-2-2">4.2.2. Exercise</a></li>
</ul>
</li>
<li><a href="#sec-4-3">4.3. Strings</a>
<ul>
<li><a href="#sec-4-3-1">4.3.1. Examples</a></li>
<li><a href="#sec-4-3-2">4.3.2. Exercise</a></li>
</ul>
</li>
<li><a href="#sec-4-4">4.4. Functions</a>
<ul>
<li><a href="#sec-4-4-1">4.4.1. Examples</a></li>
<li><a href="#sec-4-4-2">4.4.2. Exercise</a></li>
</ul>
</li>
<li><a href="#sec-4-5">4.5. Booleans and Conditionals</a>
<ul>
<li><a href="#sec-4-5-1">4.5.1. Examples</a></li>
<li><a href="#sec-4-5-2">4.5.2. Exercise</a></li>
</ul>
</li>
<li><a href="#sec-4-6">4.6. Recursive Functions</a>
<ul>
<li><a href="#sec-4-6-1">4.6.1. Examples</a></li>
<li><a href="#sec-4-6-2">4.6.2. Exercise</a></li>
</ul>
</li>
<li><a href="#sec-4-7">4.7. Linked Lists</a>
<ul>
<li><a href="#sec-4-7-1">4.7.1. Examples</a></li>
<li><a href="#sec-4-7-2">4.7.2. Exercise</a></li>
</ul>
</li>
<li><a href="#sec-4-8">4.8. Recursive Functions Over Linked Lists</a>
<ul>
<li><a href="#sec-4-8-1">4.8.1. Examples</a></li>
<li><a href="#sec-4-8-2">4.8.2. Exercise</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-5">5. Solutions</a>
<ul>
<li><a href="#statements-vs-expressions-java">5.1. Solution: Statements vs Expressions in Java</a></li>
<li><a href="#linked-list-java">5.2. Solution: Linked List in Java</a></li>
<li><a href="#linked-list-c">5.3. Solution: Linked List in C</a></li>
<li><a href="#strings-scheme">5.4. Solution: Strings in Scheme</a></li>
<li><a href="#functions-scheme">5.5. Solution: Functions in Scheme</a></li>
<li><a href="#booleans-conditionals-scheme">5.6. Solution: Boolean and Conditionals in Scheme</a></li>
<li><a href="#recursive-functions-scheme">5.7. Solution: Recursive Functions in Scheme</a></li>
<li><a href="#linked-lists-scheme">5.8. Solution: Linked Lists in Scheme</a></li>
<li><a href="#recursive-functions-linked-lists-scheme">5.9. Solution: Recursive Functions Over Linked Lists in Scheme</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Questions and Completion</h2>
<div class="outline-text-2" id="text-1">
<p>
To receive credit for completing the worksheet, you must complete the corresponding quiz (it is just a checkbox) on D2L when you have finished the worksheet.
</p>

<p>
If you have questions as you go through this worksheet, please feel free to post them on the Google group.
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Java</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> Statements vs Expressions in Java</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Java's syntax borrows heavily from C, but does it support the comma and ternary operators?
</p>

<p>
Write your own simple Java program(s) to determine whether Java supports the comma and ternary operators.
</p>

<p>
<a href="#statements-vs-expressions-java">Solution: Statements vs Expressions</a>
</p>
</div>
</div>

<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> Prerequisite Material: While Loops, For Loops, Iterators, and Recursion</h3>
<div class="outline-text-3" id="text-2-2">
<p>
The following Java program shows how to compute the sum of integers specified on the command line.
You should already be familiar with each of these, but if not, check your Java textbook.
</p>

<div class="org-src-container">

<pre class="src src-java"><span style="color: #0000FF; font-size: 116%;">public</span> <span style="color: #0000FF; font-size: 116%;">class</span> <span style="color: #6434A3; font-size: 116%;">Linear</span> <span style="color: #707183; font-size: 116%;">{</span>

  <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #006699; font-size: 116%;">sumWhile</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span><span style="color: #909183; font-size: 116%;">[]</span> <span style="color: #BA36A5; font-size: 116%;">data</span><span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">result</span> = 0;
    <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">i</span> = 0; 
    <span style="color: #0000FF; font-size: 116%;">while</span> <span style="color: #909183; font-size: 116%;">(</span>i &lt; data.<span style="color: #6434A3; font-size: 116%;">length</span><span style="color: #909183; font-size: 116%;">)</span> <span style="color: #909183; font-size: 116%;">{</span>
      result += data<span style="color: #709870; font-size: 116%;">[</span>i<span style="color: #709870; font-size: 116%;">]</span>;
      i++;
    <span style="color: #909183; font-size: 116%;">}</span>
    <span style="color: #0000FF; font-size: 116%;">return</span> result;
  <span style="color: #7388D6; font-size: 116%;">}</span>


  <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #006699; font-size: 116%;">sumFor</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span><span style="color: #909183; font-size: 116%;">[]</span> <span style="color: #BA36A5; font-size: 116%;">data</span><span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">result</span> = 0;
    <span style="color: #0000FF; font-size: 116%;">for</span> <span style="color: #909183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">i</span> = 0; i &lt; data.<span style="color: #6434A3; font-size: 116%;">length</span>; i++<span style="color: #909183; font-size: 116%;">)</span> <span style="color: #909183; font-size: 116%;">{</span>
      result += data<span style="color: #709870; font-size: 116%;">[</span>i<span style="color: #709870; font-size: 116%;">]</span>;
    <span style="color: #909183; font-size: 116%;">}</span>
    <span style="color: #0000FF; font-size: 116%;">return</span> result;
  <span style="color: #7388D6; font-size: 116%;">}</span>


  <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #006699; font-size: 116%;">sumIterator</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span><span style="color: #909183; font-size: 116%;">[]</span> <span style="color: #BA36A5; font-size: 116%;">data</span><span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">result</span> = 0;
    <span style="color: #0000FF; font-size: 116%;">for</span> <span style="color: #909183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">x</span> : data<span style="color: #909183; font-size: 116%;">)</span> <span style="color: #909183; font-size: 116%;">{</span>
      result += x;
    <span style="color: #909183; font-size: 116%;">}</span>
    <span style="color: #0000FF; font-size: 116%;">return</span> result;
  <span style="color: #7388D6; font-size: 116%;">}</span>


  <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #006699; font-size: 116%;">sumRecursive</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span><span style="color: #909183; font-size: 116%;">[]</span> <span style="color: #BA36A5; font-size: 116%;">data</span><span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #0000FF; font-size: 116%;">return</span> sumRecursiveAux <span style="color: #909183; font-size: 116%;">(</span>data, 0<span style="color: #909183; font-size: 116%;">)</span>;
  <span style="color: #7388D6; font-size: 116%;">}</span>

  <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #006699; font-size: 116%;">sumRecursiveAux</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span><span style="color: #909183; font-size: 116%;">[]</span> <span style="color: #BA36A5; font-size: 116%;">data</span>, <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">i</span><span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #0000FF; font-size: 116%;">if</span> <span style="color: #909183; font-size: 116%;">(</span>i == data.length<span style="color: #909183; font-size: 116%;">)</span> <span style="color: #909183; font-size: 116%;">{</span>
      <span style="color: #0000FF; font-size: 116%;">return</span> 0;
    <span style="color: #909183; font-size: 116%;">}</span> <span style="color: #0000FF; font-size: 116%;">else</span> <span style="color: #909183; font-size: 116%;">{</span>
      <span style="color: #0000FF; font-size: 116%;">return</span> data<span style="color: #709870; font-size: 116%;">[</span>i<span style="color: #709870; font-size: 116%;">]</span> + sumRecursiveAux <span style="color: #709870; font-size: 116%;">(</span>data, i + 1<span style="color: #709870; font-size: 116%;">)</span>;
    <span style="color: #909183; font-size: 116%;">}</span>
  <span style="color: #7388D6; font-size: 116%;">}</span>


  <span style="color: #0000FF; font-size: 116%;">public</span> <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #6434A3; font-size: 116%;">void</span> <span style="color: #006699; font-size: 116%;">main</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">String</span><span style="color: #909183; font-size: 116%;">[]</span> <span style="color: #BA36A5; font-size: 116%;">args</span><span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #6434A3; font-size: 116%;">int</span><span style="color: #909183; font-size: 116%;">[]</span> <span style="color: #BA36A5; font-size: 116%;">data</span> = <span style="color: #0000FF; font-size: 116%;">new</span> <span style="color: #6434A3; font-size: 116%;">int</span><span style="color: #909183; font-size: 116%;">[</span>args.length<span style="color: #909183; font-size: 116%;">]</span>;
    <span style="color: #0000FF; font-size: 116%;">for</span> <span style="color: #909183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">i</span> = 0; i &lt; args.<span style="color: #6434A3; font-size: 116%;">length</span>; i++<span style="color: #909183; font-size: 116%;">)</span> <span style="color: #909183; font-size: 116%;">{</span>
      data<span style="color: #709870; font-size: 116%;">[</span>i<span style="color: #709870; font-size: 116%;">]</span> = Integer.parseInt <span style="color: #709870; font-size: 116%;">(</span>args<span style="color: #907373; font-size: 116%;">[</span>i<span style="color: #907373; font-size: 116%;">]</span><span style="color: #709870; font-size: 116%;">)</span>;
    <span style="color: #909183; font-size: 116%;">}</span>

    System.out.printf <span style="color: #909183; font-size: 116%;">(</span><span style="color: #008000; font-size: 116%;">"sumWhile     = %d%n"</span>, sumWhile <span style="color: #709870; font-size: 116%;">(</span>data<span style="color: #709870; font-size: 116%;">)</span><span style="color: #909183; font-size: 116%;">)</span>;
    System.out.printf <span style="color: #909183; font-size: 116%;">(</span><span style="color: #008000; font-size: 116%;">"sumFor       = %d%n"</span>, sumFor <span style="color: #709870; font-size: 116%;">(</span>data<span style="color: #709870; font-size: 116%;">)</span><span style="color: #909183; font-size: 116%;">)</span>;
    System.out.printf <span style="color: #909183; font-size: 116%;">(</span><span style="color: #008000; font-size: 116%;">"sumIterator  = %d%n"</span>, sumIterator <span style="color: #709870; font-size: 116%;">(</span>data<span style="color: #709870; font-size: 116%;">)</span><span style="color: #909183; font-size: 116%;">)</span>;
    System.out.printf <span style="color: #909183; font-size: 116%;">(</span><span style="color: #008000; font-size: 116%;">"sumRecursive = %d%n"</span>, sumRecursive <span style="color: #709870; font-size: 116%;">(</span>data<span style="color: #709870; font-size: 116%;">)</span><span style="color: #909183; font-size: 116%;">)</span>;
  <span style="color: #7388D6; font-size: 116%;">}</span>
<span style="color: #707183; font-size: 116%;">}</span>
</pre>
</pre>
</div>

<pre class="example">
$ javac Linear.java 

$ java Linear 1 2 3 4
sumWhile     = 10
sumFor       = 10
sumIterator  = 10
sumRecursive = 10
</pre>
</div>
</div>

<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> Linked Lists in Java</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Consider the following Java program using (singly) linked lists containing <code>int</code> elements.
Replace the comments with code, so that they calculate the sum of the command-line arguments.
You should use a while loop, a for loop, and a recursive method respectively.
</p>

<div class="org-src-container">

<pre class="src src-java"><span style="color: #0000FF; font-size: 116%;">public</span> <span style="color: #0000FF; font-size: 116%;">class</span> <span style="color: #6434A3; font-size: 116%;">LinkedList</span> <span style="color: #707183; font-size: 116%;">{</span>

  <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #0000FF; font-size: 116%;">class</span> <span style="color: #6434A3; font-size: 116%;">Node</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">item</span>;
    <span style="color: #6434A3; font-size: 116%;">Node</span> <span style="color: #BA36A5; font-size: 116%;">next</span>;

    <span style="color: #0000FF; font-size: 116%;">public</span> <span style="color: #006699; font-size: 116%;">Node</span> <span style="color: #909183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">item</span>, <span style="color: #6434A3; font-size: 116%;">Node</span> <span style="color: #BA36A5; font-size: 116%;">next</span><span style="color: #909183; font-size: 116%;">)</span> <span style="color: #909183; font-size: 116%;">{</span> 
      <span style="color: #0000FF; font-size: 116%;">this</span>.item = item; 
      <span style="color: #0000FF; font-size: 116%;">this</span>.next = next; 
    <span style="color: #909183; font-size: 116%;">}</span>
  <span style="color: #7388D6; font-size: 116%;">}</span>


  <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #006699; font-size: 116%;">sumWhile</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">Node</span> <span style="color: #BA36A5; font-size: 116%;">data</span><span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">result</span> = 0;
    <span style="color: #8D8D84; font-size: 116%;">/* </span><span style="color: #8D8D84; font-size: 116%; font-style: italic;">TODO */</span>
    <span style="color: #0000FF; font-size: 116%;">return</span> result;
  <span style="color: #7388D6; font-size: 116%;">}</span>


  <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #006699; font-size: 116%;">sumFor</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">Node</span> <span style="color: #BA36A5; font-size: 116%;">data</span><span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">result</span> = 0;
    <span style="color: #8D8D84; font-size: 116%;">/* </span><span style="color: #8D8D84; font-size: 116%; font-style: italic;">TODO */</span>
    <span style="color: #0000FF; font-size: 116%;">return</span> result;
  <span style="color: #7388D6; font-size: 116%;">}</span>


  <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #006699; font-size: 116%;">sumRecursive</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">Node</span> <span style="color: #BA36A5; font-size: 116%;">data</span><span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #8D8D84; font-size: 116%;">/* </span><span style="color: #8D8D84; font-size: 116%; font-style: italic;">TODO */</span>
  <span style="color: #7388D6; font-size: 116%;">}</span>


  <span style="color: #0000FF; font-size: 116%;">public</span> <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #6434A3; font-size: 116%;">void</span> <span style="color: #006699; font-size: 116%;">main</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">String</span><span style="color: #909183; font-size: 116%;">[]</span> <span style="color: #BA36A5; font-size: 116%;">args</span><span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #6434A3; font-size: 116%;">Node</span> <span style="color: #BA36A5; font-size: 116%;">data</span> = <span style="color: #D0372D; font-size: 116%;">null</span>;
    <span style="color: #0000FF; font-size: 116%;">for</span> <span style="color: #909183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">i</span> = args.length - 1; i &gt;= 0; i--<span style="color: #909183; font-size: 116%;">)</span> <span style="color: #909183; font-size: 116%;">{</span>
      data = <span style="color: #0000FF; font-size: 116%;">new</span> <span style="color: #6434A3; font-size: 116%;">Node</span> <span style="color: #709870; font-size: 116%;">(</span>Integer.parseInt <span style="color: #907373; font-size: 116%;">(</span>args<span style="color: #6276BA; font-size: 116%;">[</span>i<span style="color: #6276BA; font-size: 116%;">]</span><span style="color: #907373; font-size: 116%;">)</span>, data<span style="color: #709870; font-size: 116%;">)</span>;
    <span style="color: #909183; font-size: 116%;">}</span>

    System.out.printf <span style="color: #909183; font-size: 116%;">(</span><span style="color: #008000; font-size: 116%;">"sumWhile     = %d%n"</span>, sumWhile <span style="color: #709870; font-size: 116%;">(</span>data<span style="color: #709870; font-size: 116%;">)</span><span style="color: #909183; font-size: 116%;">)</span>;
    System.out.printf <span style="color: #909183; font-size: 116%;">(</span><span style="color: #008000; font-size: 116%;">"sumFor       = %d%n"</span>, sumFor <span style="color: #709870; font-size: 116%;">(</span>data<span style="color: #709870; font-size: 116%;">)</span><span style="color: #909183; font-size: 116%;">)</span>;
    System.out.printf <span style="color: #909183; font-size: 116%;">(</span><span style="color: #008000; font-size: 116%;">"sumRecursive = %d%n"</span>, sumRecursive <span style="color: #709870; font-size: 116%;">(</span>data<span style="color: #709870; font-size: 116%;">)</span><span style="color: #909183; font-size: 116%;">)</span>;
  <span style="color: #7388D6; font-size: 116%;">}</span>
<span style="color: #707183; font-size: 116%;">}</span>
</pre>
</pre>
</div>

<p>
<a href="#linked-list-java">Solution: Linked List in Java</a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> C</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> Linked Lists in C</h3>
<div class="outline-text-3" id="text-3-1">
<p>
Consider the following C program using (singly) linked lists containing <code>int</code> elements.
Replace the comments with code, so that they calculate the sum of the command-line arguments.
You should use a while loop, a for loop, and a recursive method respectively.
</p>

<div class="org-src-container">

<pre class="src src-C"><span style="color: #808080; font-size: 116%;">#include</span> <span style="color: #707183; font-size: 135%;">&lt;</span><span style="color: #008000; font-size: 116%;">stdio.h</span><span style="color: #707183; font-size: 135%;">&gt;</span>
<span style="color: #808080; font-size: 116%;">#include</span> <span style="color: #707183; font-size: 135%;">&lt;</span><span style="color: #008000; font-size: 116%;">stdlib.h</span><span style="color: #707183; font-size: 135%;">&gt;</span>


<span style="color: #0000FF; font-size: 116%;">typedef</span> <span style="color: #0000FF; font-size: 116%;">struct</span> <span style="color: #6434A3; font-size: 116%;">node</span> <span style="color: #6434A3; font-size: 116%;">node</span>;

<span style="color: #0000FF; font-size: 116%;">struct</span> <span style="color: #6434A3; font-size: 116%;">node</span> <span style="color: #707183; font-size: 116%;">{</span>
  <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">item</span>;
  <span style="color: #6434A3; font-size: 116%;">node</span> *<span style="color: #BA36A5; font-size: 116%;">next</span>;
<span style="color: #707183; font-size: 116%;">}</span>;


<span style="color: #6434A3; font-size: 116%;">node</span> *<span style="color: #006699; font-size: 116%;">new_node</span> <span style="color: #707183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">item</span>, <span style="color: #6434A3; font-size: 116%;">node</span> *<span style="color: #BA36A5; font-size: 116%;">next</span><span style="color: #707183; font-size: 116%;">)</span> <span style="color: #707183; font-size: 116%;">{</span>
  <span style="color: #6434A3; font-size: 116%;">node</span> *<span style="color: #BA36A5; font-size: 116%;">result</span> = <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">node</span>*<span style="color: #7388D6; font-size: 116%;">)</span> malloc <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">sizeof</span> <span style="color: #909183; font-size: 116%;">(</span>node<span style="color: #909183; font-size: 116%;">)</span><span style="color: #7388D6; font-size: 116%;">)</span>;
  <span style="color: #0000FF; font-size: 116%;">if</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="font-size: 116%;">!</span>result<span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    fprintf <span style="color: #909183; font-size: 116%;">(</span>stderr, <span style="color: #008000; font-size: 116%;">"malloc failed"</span><span style="color: #909183; font-size: 116%;">)</span>;
    exit <span style="color: #909183; font-size: 116%;">(</span>1<span style="color: #909183; font-size: 116%;">)</span>;
  <span style="color: #7388D6; font-size: 116%;">}</span>
  result-&gt;item = item;
  result-&gt;next = next;
  <span style="color: #0000FF; font-size: 116%;">return</span> result;
<span style="color: #707183; font-size: 116%;">}</span>


<span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #006699; font-size: 116%;">sum_while</span> <span style="color: #707183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">node</span> *<span style="color: #BA36A5; font-size: 116%;">data</span><span style="color: #707183; font-size: 116%;">)</span> <span style="color: #707183; font-size: 116%;">{</span>
  <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">result</span> = 0;
  <span style="color: #8D8D84; font-size: 116%;">/* </span><span style="color: #8D8D84; font-size: 116%; font-style: italic;">TODO </span><span style="color: #8D8D84; font-size: 116%;">*/</span>
  <span style="color: #0000FF; font-size: 116%;">return</span> result;
<span style="color: #707183; font-size: 116%;">}</span>


<span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #006699; font-size: 116%;">sum_for</span> <span style="color: #707183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">node</span> *<span style="color: #BA36A5; font-size: 116%;">data</span><span style="color: #707183; font-size: 116%;">)</span> <span style="color: #707183; font-size: 116%;">{</span>
  <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">result</span> = 0;
  <span style="color: #8D8D84; font-size: 116%;">/* </span><span style="color: #8D8D84; font-size: 116%; font-style: italic;">TODO </span><span style="color: #8D8D84; font-size: 116%;">*/</span>
  <span style="color: #0000FF; font-size: 116%;">return</span> result;
<span style="color: #707183; font-size: 116%;">}</span>


<span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #006699; font-size: 116%;">sum_recursive</span> <span style="color: #707183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">node</span> *<span style="color: #BA36A5; font-size: 116%;">data</span><span style="color: #707183; font-size: 116%;">)</span> <span style="color: #707183; font-size: 116%;">{</span>
  <span style="color: #8D8D84; font-size: 116%;">/* </span><span style="color: #8D8D84; font-size: 116%; font-style: italic;">TODO </span><span style="color: #8D8D84; font-size: 116%;">*/</span>
<span style="color: #707183; font-size: 116%;">}</span>


<span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #006699; font-size: 116%;">main</span> <span style="color: #707183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">argc</span>, <span style="color: #6434A3; font-size: 116%;">char</span> **<span style="color: #BA36A5; font-size: 116%;">argv</span><span style="color: #707183; font-size: 116%;">)</span> <span style="color: #707183; font-size: 116%;">{</span>
  <span style="color: #6434A3; font-size: 116%;">node</span> *<span style="color: #BA36A5; font-size: 116%;">data</span> = <span style="color: #D0372D; font-size: 116%;">NULL</span>;
  <span style="color: #0000FF; font-size: 116%;">for</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">i</span> = argc - 1; i &gt;= 1; i--<span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    data = new_node <span style="color: #909183; font-size: 116%;">(</span>atoi <span style="color: #709870; font-size: 116%;">(</span>argv<span style="color: #907373; font-size: 116%;">[</span>i<span style="color: #907373; font-size: 116%;">]</span><span style="color: #709870; font-size: 116%;">)</span>, data<span style="color: #909183; font-size: 116%;">)</span>;
  <span style="color: #7388D6; font-size: 116%;">}</span>

  printf <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #008000; font-size: 116%;">"sum_while     = %d\n"</span>, sum_while <span style="color: #909183; font-size: 116%;">(</span>data<span style="color: #909183; font-size: 116%;">)</span><span style="color: #7388D6; font-size: 116%;">)</span>;
  printf <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #008000; font-size: 116%;">"sum_for       = %d\n"</span>, sum_for <span style="color: #909183; font-size: 116%;">(</span>data<span style="color: #909183; font-size: 116%;">)</span><span style="color: #7388D6; font-size: 116%;">)</span>;
  printf <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #008000; font-size: 116%;">"sum_recursive = %d\n"</span>, sum_recursive <span style="color: #909183; font-size: 116%;">(</span>data<span style="color: #909183; font-size: 116%;">)</span><span style="color: #7388D6; font-size: 116%;">)</span>;
<span style="color: #707183; font-size: 116%;">}</span>
</pre>
</pre>
</div>

<p>
<a href="#linked-list-c">Solution: Linked List in C</a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Scheme</h2>
<div class="outline-text-2" id="text-4">
<p>
As you go through this section, it is recommended that you also refer to sections 2.1, 2.2, 2.3, 2.4 of 
<a href="http://www.scheme.com/tspl4/">The Scheme Programming Language, 4th Edition, by R. Kent Dybvig</a>.
</p>
</div>

<div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> Installation</h3>
<div class="outline-text-3" id="text-4-1">
<p>
SISC Scheme is implemented on top of Java, so will run on Windows, Linux, OS X, etc.
</p>


<ul class="org-ul">
<li>On Windows, get the <code>zip</code> file from <a href="http://sisc-scheme.org/">http://sisc-scheme.org/</a> (get the "lite" or the "full" version).
</li>
</ul>
<p>
Uncompress the archive.  To start the read-eval-print loop (REPL), 
run <code>sisc.bat</code> from the Command Prompt when your current working directory is the directory that contains the <code>sisc.bat</code> file.
</p>

<pre class="example">
C:\Users\jriely\Downloads&gt;dir
...
09/07/2017  04:02 PM         2,733,626 sisc-1.16.6.zip
...

C:\Users\jriely\Downloads&gt;unzip sisc-1.16.6.zip
Archive:  sisc-1.16.6.zip
   creating: doc/
...

C:\Users\jriely\Downloads&gt;dir
...
02/27/2007  11:42 AM    &lt;DIR&gt;          sisc-1.16.6
...

C:\Users\jriely\Downloads&gt;erase sisc-1.16.6.zip

C:\Users\jriely\Downloads&gt;cd sisc-1.16.6

C:\Users\jriely\Downloads\sisc-1.16.6&gt;dir
...
02/27/2007  11:42 AM               363 sisc.bat  &lt;== make sure this is here
...

C:\Users\jriely\Downloads\sisc-1.16.6&gt;sisc.bat
SISC (1.16.6)
#;&gt; (exit)

C:\Users\jriely\Downloads\sisc-1.16.6&gt;
</pre>

<ul class="org-ul">
<li>On Mac or Linux, use a package manager to do the install.  On a mac, use
<a href="http://brew.sh/">homebrew</a>.  On Ubuntu, use  <a href="https://help.ubuntu.com/community/AptGet/Howto">apt-get</a>.
</li>
</ul>

<pre class="example">
$ brew search scheme
chibi-scheme
mit-scheme
sagittarius-scheme
scheme48
sisc-scheme
$ brew install sisc-scheme
==&gt; Using the sandbox
==&gt; Downloading https://downloads.sourceforge.net/project/sisc/SISC%20Lite/1.16.6/sisc-lite-1.16.6.tar.gz
Already downloaded: /Users/jriely/Library/Caches/Homebrew/sisc-scheme-1.16.6.tar.gz
üç∫  /usr/local/Cellar/sisc-scheme/1.16.6: 12 files, 589.1K, built in 1 second
</pre>

<p>
If the uparrow/downarrow/backspace keys are not working for you in the
REPL, you can try using a readline wrapper, such as <code>rlwrap</code>.
</p>

<p>
Here is the result of typing the uparrow before and after installing <code>rlwrap</code>.
</p>
<pre class="example">
$ sisc
SISC (1.16.6)
#;&gt; 1   
1
#;&gt; ^[[A 

$ brew install rlwrap
$ sisc
SISC (1.16.6)
#;&gt; 1
1
#;&gt; 1
1
</pre>
</div>
</div>

<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2"><span class="section-number-3">4.2</span> Arithmetic</h3>
<div class="outline-text-3" id="text-4-2">
</div><div id="outline-container-sec-4-2-1" class="outline-4">
<h4 id="sec-4-2-1"><span class="section-number-4">4.2.1</span> Examples</h4>
<div class="outline-text-4" id="text-4-2-1">
<p>
Try running the following Scheme expressions in the SISC REPL (Read-Eval-Print-Loop).
</p>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>+ 5 6<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>* 3 <span style="color: #7388D6; font-size: 116%;">(</span>+ 5 6<span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>* <span style="color: #7388D6; font-size: 116%;">(</span>+ 5 6<span style="color: #7388D6; font-size: 116%;">)</span> 3<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>* 2 3 4 5<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-2-2" class="outline-4">
<h4 id="sec-4-2-2"><span class="section-number-4">4.2.2</span> Exercise</h4>
<div class="outline-text-4" id="text-4-2-2">
<p>
Translate the arithmetic expression <code>10 / 2 + 3 * 2</code> into Scheme using the standard rules of precedence for arithmetic operators.
Test your answer by running it in the Scheme interpreter.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3"><span class="section-number-3">4.3</span> Strings</h3>
<div class="outline-text-3" id="text-4-3">
</div><div id="outline-container-sec-4-3-1" class="outline-4">
<h4 id="sec-4-3-1"><span class="section-number-4">4.3.1</span> Examples</h4>
<div class="outline-text-4" id="text-4-3-1">
<p>
Try running the following Scheme expressions in the SISC REPL (Read-Eval-Print-Loop). 
</p>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #008000; font-size: 116%;">"hello"</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>number-&gt;string 123<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>string-&gt;number <span style="color: #008000; font-size: 116%;">"123"</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>string-&gt;number <span style="color: #008000; font-size: 116%;">"12x3"</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>string-append <span style="color: #008000; font-size: 116%;">"hello"</span> <span style="color: #008000; font-size: 116%;">"world"</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>string-append <span style="color: #008000; font-size: 116%;">"he"</span> <span style="color: #008000; font-size: 116%;">"ll"</span> <span style="color: #008000; font-size: 116%;">"o"</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>string-length <span style="color: #008000; font-size: 116%;">"hello"</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>string-&gt;list <span style="color: #008000; font-size: 116%;">"hello"</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>string-ref <span style="color: #008000; font-size: 116%;">"hello"</span> 1<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-3-2" class="outline-4">
<h4 id="sec-4-3-2"><span class="section-number-4">4.3.2</span> Exercise</h4>
<div class="outline-text-4" id="text-4-3-2">
<p>
Translate the following Java expression into Scheme.  Then test your Scheme expression in the SISC REPL.
</p>

<div class="org-src-container">

<pre class="src src-java"><span style="color: #707183; font-size: 116%;">(</span><span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #909183; font-size: 116%;">(</span>1 + 2<span style="color: #909183; font-size: 116%;">)</span> * 3<span style="color: #7388D6; font-size: 116%;">)</span> + 4<span style="color: #707183; font-size: 116%;">)</span> + <span style="color: #008000; font-size: 116%;">" = "</span> + <span style="color: #707183; font-size: 116%;">(</span>16 - 3<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<p>
<a href="#strings-scheme">Solution: Strings in Scheme</a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4"><span class="section-number-3">4.4</span> Functions</h3>
<div class="outline-text-3" id="text-4-4">
</div><div id="outline-container-sec-4-4-1" class="outline-4">
<h4 id="sec-4-4-1"><span class="section-number-4">4.4.1</span> Examples</h4>
<div class="outline-text-4" id="text-4-4-1">
<p>
Try running the following Scheme expressions in the SISC REPL (Read-Eval-Print-Loop). 
</p>

<p>
Define a function <code>f</code>.
</p>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">define</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #006699; font-size: 116%;">f</span> n<span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">(</span>+ n 1<span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<p>
Invoke the function <code>f</code> on argument <code>10</code>.
</p>
<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>f 10<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<p>
Redefine <code>f</code>.
</p>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">define</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #006699; font-size: 116%;">f</span> n<span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">(</span>+ n 2<span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<p>
Invoke <code>f</code> again.
</p>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>f 10<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<p>
Define a variable <code>x</code>.
</p>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">define</span> <span style="color: #006699; font-size: 116%;">x</span> 10<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<p>
Invoke <code>f</code> on <code>x</code>.
</p>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>f x<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-4-2" class="outline-4">
<h4 id="sec-4-4-2"><span class="section-number-4">4.4.2</span> Exercise</h4>
<div class="outline-text-4" id="text-4-4-2">
<p>
Define a Scheme function <code>greet</code> that takes a string <code>s</code> as an argument and returns the result of concatenating <code>hello</code>, a space, and the string <code>s</code>.
</p>

<p>
<a href="#functions-scheme">Solution: Functions in Scheme</a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4-5" class="outline-3">
<h3 id="sec-4-5"><span class="section-number-3">4.5</span> Booleans and Conditionals</h3>
<div class="outline-text-3" id="text-4-5">
</div><div id="outline-container-sec-4-5-1" class="outline-4">
<h4 id="sec-4-5-1"><span class="section-number-4">4.5.1</span> Examples</h4>
<div class="outline-text-4" id="text-4-5-1">
<p>
Try running the following Scheme expressions in the SISC REPL (Read-Eval-Print-Loop). 
</p>

<p>
The true and false Boolean values are written as <code>#t</code> and <code>#f</code> in Scheme.  
The <code>and</code>, <code>or</code>, and <code>not</code> functions operate on Boolean values in the usual way.
</p>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">and</span> #f #f<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">and</span> #t #f<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">and</span> #t #t<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">or</span> #t #f<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>not #t<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>not #f<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<p>
The functions <code>number?</code> and <code>string?</code> can be used to whether an argument is a number or string respectively.
</p>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>number? #f<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>number? 5<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>number? <span style="color: #008000; font-size: 116%;">"5"</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>string? #f<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>string? 5<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>string? <span style="color: #008000; font-size: 116%;">"5"</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<p>
The function = can be used to test equality of numbers.  
The usual inequality operators on numbers are also available as functions.
</p>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>= 5 2<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>= 2 2<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>&lt;= 5 2<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>&gt; 5 2<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<p>
The function string=? can be used to test equality of strings.
The lexicographic (dictionary order) operators are also available as functions.
</p>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>string=? <span style="color: #008000; font-size: 116%;">"hello"</span> <span style="color: #008000; font-size: 116%;">"world"</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>string&lt;=? <span style="color: #008000; font-size: 116%;">"hello"</span> <span style="color: #008000; font-size: 116%;">"world"</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>string&lt;=? <span style="color: #008000; font-size: 116%;">"hello"</span> <span style="color: #008000; font-size: 116%;">"he"</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<p>
The generic equality functions <code>eq?</code>, <code>eqv?</code>, and <code>equal?</code> can be used for numeric and string types as well as other types.
</p>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>equal? 5 10<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<p>
<code>eq?</code> is true when the arguments point to the same location in memory.  It is
useful for lists, where there is guaranteed to be a unique representation of
the empty list in memory, but its behavior is implementation dependent on
other types, so better to use <code>eqv?</code> rather than <code>eq?</code>.
</p>

<pre class="example">
$ sisc
SISC (1.16.6)
#;&gt; (eq? 0 0 )
#f
#;&gt; (eqv? 0 0 )
#t

$ csi
CHICKEN
(c) 2008-2016, The CHICKEN Team
(c) 2000-2007, Felix L. Winkelmann
Version 4.11.0 (rev ce980c4)

#;1&gt; (eq? 0 0)
#t
#;2&gt; (eqv? 0 0)
#t
</pre>


<p>
The <code>if</code> special form takes three arguments.  
The first argument is evaluated.
If it evaluates to the true value, then the second argument is evaluated, and its result is the value of the entire <code>if</code> expression.
Otherwise, the third argument is evaluated, and its result is the value of the entire <code>if</code> expression.
</p>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">if</span> <span style="color: #7388D6; font-size: 116%;">(</span>= <span style="color: #909183; font-size: 116%;">(</span>+ 2 2<span style="color: #909183; font-size: 116%;">)</span> 4<span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #008000; font-size: 116%;">"that's good"</span> <span style="color: #008000; font-size: 116%;">"that's strange"</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>string-append <span style="color: #008000; font-size: 116%;">"that's "</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">if</span> <span style="color: #909183; font-size: 116%;">(</span>= <span style="color: #709870; font-size: 116%;">(</span>+ 2 2<span style="color: #709870; font-size: 116%;">)</span> 4<span style="color: #909183; font-size: 116%;">)</span> <span style="color: #008000; font-size: 116%;">"good"</span> <span style="color: #008000; font-size: 116%;">"strange"</span><span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-5-2" class="outline-4">
<h4 id="sec-4-5-2"><span class="section-number-4">4.5.2</span> Exercise</h4>
<div class="outline-text-4" id="text-4-5-2">
<p>
Write a Scheme function <code>check-password</code> (note that hyphens are allowed as characters in Scheme identifiers!) that takes a string as a parameter.  
The function should return the string "<code>pass, friend</code>" if its parameter is equal to the password "<code>Rosebud</code>".  
Otherwise it should return the string "<code>get out of here</code>".
</p>

<p>
<a href="#booleans-conditionals-scheme">Solution: Boolean and Conditionals in Scheme</a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4-6" class="outline-3">
<h3 id="sec-4-6"><span class="section-number-3">4.6</span> Recursive Functions</h3>
<div class="outline-text-3" id="text-4-6">
</div><div id="outline-container-sec-4-6-1" class="outline-4">
<h4 id="sec-4-6-1"><span class="section-number-4">4.6.1</span> Examples</h4>
<div class="outline-text-4" id="text-4-6-1">
<p>
Try running the following Scheme expressions in the SISC REPL (Read-Eval-Print-Loop). 
</p>

<p>
Notice that the body of the Scheme function is an <i>expression</i> (there are no <i>statements</i> in Scheme) and that there is no <code>return</code> keyword.
This means that the <code>if</code> special form is like the <i>ternary operator</i> in expressions from C and Java, rather than the if-then-else control construct for statements in C and Java.
</p>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">define</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #006699; font-size: 116%;">factorial</span> n<span style="color: #7388D6; font-size: 116%;">)</span> 
  <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">if</span> <span style="color: #909183; font-size: 116%;">(</span>&lt;= n 1<span style="color: #909183; font-size: 116%;">)</span>
     1
     <span style="color: #909183; font-size: 116%;">(</span>* n <span style="color: #709870; font-size: 116%;">(</span>factorial <span style="color: #907373; font-size: 116%;">(</span>- n 1<span style="color: #907373; font-size: 116%;">)</span><span style="color: #709870; font-size: 116%;">)</span><span style="color: #909183; font-size: 116%;">)</span><span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>factorial 5<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>factorial 10<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-6-2" class="outline-4">
<h4 id="sec-4-6-2"><span class="section-number-4">4.6.2</span> Exercise</h4>
<div class="outline-text-4" id="text-4-6-2">
<p>
Define a Scheme function <code>triangle</code> that finds the nth triangular number, i.e., 
</p>

<ul class="org-ul">
<li><code>(triangle 0)</code> returns  0 = 0 
</li>
<li><code>(triangle 1)</code> returns  1 = 0+1
</li>
<li><code>(triangle 2)</code> returns  3 = 0+1+2
</li>
<li><code>(triangle 3)</code> returns  6 = 0+1+2+3
</li>
<li><code>(triangle 4)</code> returns 10 = 0+1+2+3+4
</li>
</ul>

<p>
<a href="#recursive-functions-scheme">Solution: Recursive Functions in Scheme</a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4-7" class="outline-3">
<h3 id="sec-4-7"><span class="section-number-3">4.7</span> Linked Lists</h3>
<div class="outline-text-3" id="text-4-7">
</div><div id="outline-container-sec-4-7-1" class="outline-4">
<h4 id="sec-4-7-1"><span class="section-number-4">4.7.1</span> Examples</h4>
<div class="outline-text-4" id="text-4-7-1">
<p>
Try running the following Scheme expressions in the SISC REPL (Read-Eval-Print-Loop). 
</p>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">()</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme">cons
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>cons 3<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>cons 3 <span style="color: #7388D6; font-size: 116%;">()</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>cons 2 <span style="color: #7388D6; font-size: 116%;">(</span>cons 3 <span style="color: #909183; font-size: 116%;">()</span><span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>cons 1 <span style="color: #7388D6; font-size: 116%;">(</span>cons 2 <span style="color: #909183; font-size: 116%;">(</span>cons 3 <span style="color: #709870; font-size: 116%;">()</span><span style="color: #909183; font-size: 116%;">)</span><span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>quote <span style="color: #7388D6; font-size: 116%;">(</span>1 2 3<span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme">'<span style="color: #707183; font-size: 116%;">(</span>1 2 3<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>list 1 2 3<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>list 1 <span style="color: #7388D6; font-size: 116%;">(</span>+ 1 1<span style="color: #7388D6; font-size: 116%;">)</span> 3<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme">'<span style="color: #707183; font-size: 116%;">(</span>1 <span style="color: #7388D6; font-size: 116%;">(</span>+ 1 1<span style="color: #7388D6; font-size: 116%;">)</span> 3<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>append '<span style="color: #7388D6; font-size: 116%;">(</span>1 2<span style="color: #7388D6; font-size: 116%;">)</span> '<span style="color: #7388D6; font-size: 116%;">(</span>3 4 5<span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>cons 0 <span style="color: #7388D6; font-size: 116%;">(</span>append '<span style="color: #909183; font-size: 116%;">(</span>1 2<span style="color: #909183; font-size: 116%;">)</span> '<span style="color: #909183; font-size: 116%;">(</span>3 4 5<span style="color: #909183; font-size: 116%;">)</span><span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>length <span style="color: #7388D6; font-size: 116%;">(</span>cons 10 <span style="color: #909183; font-size: 116%;">(</span>cons 11 <span style="color: #709870; font-size: 116%;">(</span>cons 12 <span style="color: #907373; font-size: 116%;">()</span><span style="color: #709870; font-size: 116%;">)</span><span style="color: #909183; font-size: 116%;">)</span><span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>length '<span style="color: #7388D6; font-size: 116%;">(</span>10 11 12<span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>car '<span style="color: #7388D6; font-size: 116%;">(</span>1 2 3<span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>cdr '<span style="color: #7388D6; font-size: 116%;">(</span>1 2 3<span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>car <span style="color: #7388D6; font-size: 116%;">(</span>cdr '<span style="color: #909183; font-size: 116%;">(</span>1 2 3<span style="color: #909183; font-size: 116%;">)</span><span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>cadr '<span style="color: #7388D6; font-size: 116%;">(</span>1 2 3<span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>reverse '<span style="color: #7388D6; font-size: 116%;">(</span>1 2 3<span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-7-2" class="outline-4">
<h4 id="sec-4-7-2"><span class="section-number-4">4.7.2</span> Exercise</h4>
<div class="outline-text-4" id="text-4-7-2">
<p>
Write 10 different Scheme expressions that evaluate to the list of numbers 10, 11, 12, 13.
</p>

<p>
<a href="#linked-lists-scheme">Solution: Linked Lists in Scheme</a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4-8" class="outline-3">
<h3 id="sec-4-8"><span class="section-number-3">4.8</span> Recursive Functions Over Linked Lists</h3>
<div class="outline-text-3" id="text-4-8">
</div><div id="outline-container-sec-4-8-1" class="outline-4">
<h4 id="sec-4-8-1"><span class="section-number-4">4.8.1</span> Examples</h4>
<div class="outline-text-4" id="text-4-8-1">
<p>
Try running the following Scheme expressions in the SISC REPL (Read-Eval-Print-Loop). 
</p>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">define</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #006699; font-size: 116%;">my-length</span> l<span style="color: #7388D6; font-size: 116%;">)</span> 
  <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">if</span> <span style="color: #909183; font-size: 116%;">(</span>equal? l <span style="color: #709870; font-size: 116%;">()</span><span style="color: #909183; font-size: 116%;">)</span>
     0
     <span style="color: #909183; font-size: 116%;">(</span>+ 1 <span style="color: #709870; font-size: 116%;">(</span>my-length <span style="color: #907373; font-size: 116%;">(</span>cdr l<span style="color: #907373; font-size: 116%;">)</span><span style="color: #709870; font-size: 116%;">)</span><span style="color: #909183; font-size: 116%;">)</span><span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>my-length '<span style="color: #7388D6; font-size: 116%;">(</span>10 11 12 13<span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-8-2" class="outline-4">
<h4 id="sec-4-8-2"><span class="section-number-4">4.8.2</span> Exercise</h4>
<div class="outline-text-4" id="text-4-8-2">
<p>
Define a Scheme function <code>sum</code> that sums the numbers in a list.
Your function should use recursion.
</p>

<p>
<a href="#recursive-functions-linked-lists-scheme">Solution: Recursive Functions Over Linked Lists in Scheme</a>
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> Solutions</h2>
<div class="outline-text-2" id="text-5">
</div><div id="outline-container-statements-vs-expressions-java" class="outline-3">
<h3 id="statements-vs-expressions-java"><a id="sec-5-1" name="sec-5-1"></a><span class="section-number-3">5.1</span> Solution: Statements vs Expressions in Java</h3>
<div class="outline-text-3" id="text-statements-vs-expressions-java">

<p>
The comma operator is not supported in Java in general:
</p>

<div class="org-src-container">

<pre class="src src-java"><span style="color: #0000FF; font-size: 116%;">public</span> <span style="color: #0000FF; font-size: 116%;">class</span> <span style="color: #6434A3; font-size: 116%;">Comma1</span> <span style="color: #707183; font-size: 116%;">{</span>
  <span style="color: #0000FF; font-size: 116%;">public</span> <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #6434A3; font-size: 116%;">void</span> <span style="color: #006699; font-size: 116%;">main</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">String</span><span style="color: #909183; font-size: 116%;">[]</span> <span style="color: #BA36A5; font-size: 116%;">args</span><span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">x</span> = 5;
    System.out.println <span style="color: #909183; font-size: 116%;">(</span><span style="color: #008000; font-size: 116%;">"x = "</span> + <span style="color: #709870; font-size: 116%;">(</span>x += 1, x<span style="color: #709870; font-size: 116%;">)</span><span style="color: #909183; font-size: 116%;">)</span>;
  <span style="color: #7388D6; font-size: 116%;">}</span>
<span style="color: #707183; font-size: 116%;">}</span>
</pre>
</pre>
</div>

<pre class="example">
$ javac Comma1.java 
Comma1.java:4: error: ')' expected
    System.out.println ("x = " + (x += 1, x));
                                        ^
Comma1.java:4: error: ';' expected
    System.out.println ("x = " + (x += 1, x));
                                            ^
2 errors
</pre>

<p>
But the comma operator syntax is supported in Java for declarations:
</p>

<div class="org-src-container">

<pre class="src src-java"><span style="color: #0000FF; font-size: 116%;">public</span> <span style="color: #0000FF; font-size: 116%;">class</span> <span style="color: #6434A3; font-size: 116%;">Comma2</span> <span style="color: #707183; font-size: 116%;">{</span>
  <span style="color: #0000FF; font-size: 116%;">public</span> <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #6434A3; font-size: 116%;">void</span> <span style="color: #006699; font-size: 116%;">main</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">String</span><span style="color: #909183; font-size: 116%;">[]</span> <span style="color: #BA36A5; font-size: 116%;">args</span><span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #6434A3; font-size: 116%;">int</span><span style="color: #909183; font-size: 116%;">[]</span> <span style="color: #BA36A5; font-size: 116%;">data</span> = <span style="color: #0000FF; font-size: 116%;">new</span> <span style="color: #6434A3; font-size: 116%;">int</span><span style="color: #909183; font-size: 116%;">[</span>args.length<span style="color: #909183; font-size: 116%;">]</span>;
    <span style="color: #0000FF; font-size: 116%;">for</span> <span style="color: #909183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">i</span> = 0; i &lt; args.<span style="color: #6434A3; font-size: 116%;">length</span>; i++<span style="color: #909183; font-size: 116%;">)</span> <span style="color: #909183; font-size: 116%;">{</span>
      data<span style="color: #709870; font-size: 116%;">[</span>i<span style="color: #709870; font-size: 116%;">]</span> = Integer.parseInt <span style="color: #709870; font-size: 116%;">(</span>args<span style="color: #907373; font-size: 116%;">[</span>i<span style="color: #907373; font-size: 116%;">]</span><span style="color: #709870; font-size: 116%;">)</span>;
    <span style="color: #909183; font-size: 116%;">}</span>

    <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">r</span> = 0, <span style="color: #BA36A5; font-size: 116%;">s</span> = 0;

    <span style="color: #0000FF; font-size: 116%;">for</span> <span style="color: #909183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">i</span> = 0; i &lt; data.<span style="color: #6434A3; font-size: 116%;">length</span>; i++<span style="color: #909183; font-size: 116%;">)</span> <span style="color: #909183; font-size: 116%;">{</span>
      <span style="color: #0000FF; font-size: 116%;">if</span> <span style="color: #709870; font-size: 116%;">(</span>data<span style="color: #907373; font-size: 116%;">[</span>i<span style="color: #907373; font-size: 116%;">]</span> != 0<span style="color: #709870; font-size: 116%;">)</span> <span style="color: #709870; font-size: 116%;">{</span>
        s = i + 1;
      <span style="color: #709870; font-size: 116%;">}</span>
      r = Integer.max <span style="color: #709870; font-size: 116%;">(</span>r, i + 1 - s<span style="color: #709870; font-size: 116%;">)</span>;
    <span style="color: #909183; font-size: 116%;">}</span>

    System.out.println <span style="color: #909183; font-size: 116%;">(</span><span style="color: #008000; font-size: 116%;">"length of longest segment containing all zeroes = "</span> + r<span style="color: #909183; font-size: 116%;">)</span>;
  <span style="color: #7388D6; font-size: 116%;">}</span>
<span style="color: #707183; font-size: 116%;">}</span>
</pre>
</pre>
</div>

<pre class="example">
$ javac Comma2.java 

$ java Comma2 1 0 0 2 0 3 0 4 0 0 0 0 5 6 0 0 7 0 
length of longest segment containing all zeroes = 4
</pre>

<p>
In the limited case of for loops, you can also put commas both in the
declaration part and the increment part, although it can get quite odd looking:
</p>

<div class="org-src-container">

<pre class="src src-java"><span style="color: #0000FF; font-size: 116%;">public</span> <span style="color: #0000FF; font-size: 116%;">class</span> <span style="color: #6434A3; font-size: 116%;">Comma3</span> <span style="color: #707183; font-size: 116%;">{</span>
  <span style="color: #0000FF; font-size: 116%;">public</span> <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #6434A3; font-size: 116%;">void</span> <span style="color: #006699; font-size: 116%;">main</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">String</span><span style="color: #909183; font-size: 116%;">[]</span> <span style="color: #BA36A5; font-size: 116%;">args</span><span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #6434A3; font-size: 116%;">int</span><span style="color: #909183; font-size: 116%;">[]</span> <span style="color: #BA36A5; font-size: 116%;">data</span> = <span style="color: #0000FF; font-size: 116%;">new</span> <span style="color: #6434A3; font-size: 116%;">int</span><span style="color: #909183; font-size: 116%;">[</span>args.length<span style="color: #909183; font-size: 116%;">]</span>;
    <span style="color: #0000FF; font-size: 116%;">for</span> <span style="color: #909183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">i</span> = 0; i &lt; args.<span style="color: #6434A3; font-size: 116%;">length</span>; i++<span style="color: #909183; font-size: 116%;">)</span> <span style="color: #909183; font-size: 116%;">{</span>
      data<span style="color: #709870; font-size: 116%;">[</span>i<span style="color: #709870; font-size: 116%;">]</span> = Integer.parseInt <span style="color: #709870; font-size: 116%;">(</span>args<span style="color: #907373; font-size: 116%;">[</span>i<span style="color: #907373; font-size: 116%;">]</span><span style="color: #709870; font-size: 116%;">)</span>;
    <span style="color: #909183; font-size: 116%;">}</span>

    <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">r</span> = 0;

    <span style="color: #0000FF; font-size: 116%;">for</span> <span style="color: #909183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">i</span> = 0, <span style="color: #BA36A5; font-size: 116%;">s</span> = 0; i &lt; data.<span style="color: #6434A3; font-size: 116%;">length</span>; s = <span style="color: #709870; font-size: 116%;">(</span><span style="color: #907373; font-size: 116%;">(</span>data<span style="color: #6276BA; font-size: 116%;">[</span>i<span style="color: #6276BA; font-size: 116%;">]</span> == 0<span style="color: #907373; font-size: 116%;">)</span> ? s : i + 1<span style="color: #709870; font-size: 116%;">)</span>, r = Integer.max <span style="color: #709870; font-size: 116%;">(</span>r, i + 1 - s<span style="color: #709870; font-size: 116%;">)</span>, i++<span style="color: #909183; font-size: 116%;">)</span>
      ;

    System.out.println <span style="color: #909183; font-size: 116%;">(</span><span style="color: #008000; font-size: 116%;">"length of longest segment containing all zeroes = "</span> + r<span style="color: #909183; font-size: 116%;">)</span>;
  <span style="color: #7388D6; font-size: 116%;">}</span>
<span style="color: #707183; font-size: 116%;">}</span>
</pre>
</pre>
</div>

<pre class="example">
$ javac Comma3.java 

$ java Comma3 1 0 0 2 0 3 0 4 0 0 0 0 5 6 0 0 7 0 
length of longest segment containing all zeroes = 4
</pre>

<p>
The ternary operator is supported in Java:
</p>

<div class="org-src-container">

<pre class="src src-java"><span style="color: #0000FF; font-size: 116%;">public</span> <span style="color: #0000FF; font-size: 116%;">class</span> <span style="color: #6434A3; font-size: 116%;">Ternary</span> <span style="color: #707183; font-size: 116%;">{</span>

  <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #006699; font-size: 116%;">factorial</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">n</span><span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #0000FF; font-size: 116%;">return</span> <span style="color: #909183; font-size: 116%;">(</span>n &lt;= 1<span style="color: #909183; font-size: 116%;">)</span> ? 1 : n * factorial <span style="color: #909183; font-size: 116%;">(</span>n - 1<span style="color: #909183; font-size: 116%;">)</span>;
  <span style="color: #7388D6; font-size: 116%;">}</span>


  <span style="color: #0000FF; font-size: 116%;">public</span> <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #6434A3; font-size: 116%;">void</span> <span style="color: #006699; font-size: 116%;">main</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">String</span><span style="color: #909183; font-size: 116%;">[]</span> <span style="color: #BA36A5; font-size: 116%;">args</span><span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">n</span> = <span style="color: #909183; font-size: 116%;">(</span>args.length == 1<span style="color: #909183; font-size: 116%;">)</span> ? Integer.parseInt <span style="color: #909183; font-size: 116%;">(</span>args<span style="color: #709870; font-size: 116%;">[</span>0<span style="color: #709870; font-size: 116%;">]</span><span style="color: #909183; font-size: 116%;">)</span> : 5;

    System.out.printf <span style="color: #909183; font-size: 116%;">(</span><span style="color: #008000; font-size: 116%;">"factorial (%d) = %d%n"</span>, n, factorial <span style="color: #709870; font-size: 116%;">(</span>n<span style="color: #709870; font-size: 116%;">)</span><span style="color: #909183; font-size: 116%;">)</span>;
  <span style="color: #7388D6; font-size: 116%;">}</span>
<span style="color: #707183; font-size: 116%;">}</span>
</pre>
</pre>
</div>

<p>
The program above uses the ternary operator twice.
</p>

<pre class="example">
$ javac Ternary.java 

$ java Ternary
factorial (5) = 120

$ java Ternary 10
factorial (10) = 3628800
</pre>
</div>
</div>

<div id="outline-container-linked-list-java" class="outline-3">
<h3 id="linked-list-java"><a id="sec-5-2" name="sec-5-2"></a><span class="section-number-3">5.2</span> Solution: Linked List in Java</h3>
<div class="outline-text-3" id="text-linked-list-java">

<div class="org-src-container">

<pre class="src src-java"><span style="color: #0000FF; font-size: 116%;">public</span> <span style="color: #0000FF; font-size: 116%;">class</span> <span style="color: #6434A3; font-size: 116%;">LinkedListSolution</span> <span style="color: #707183; font-size: 116%;">{</span>

  <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #0000FF; font-size: 116%;">class</span> <span style="color: #6434A3; font-size: 116%;">Node</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">item</span>;
    <span style="color: #6434A3; font-size: 116%;">Node</span> <span style="color: #BA36A5; font-size: 116%;">next</span>;

    <span style="color: #0000FF; font-size: 116%;">public</span> <span style="color: #006699; font-size: 116%;">Node</span> <span style="color: #909183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">item</span>, <span style="color: #6434A3; font-size: 116%;">Node</span> <span style="color: #BA36A5; font-size: 116%;">next</span><span style="color: #909183; font-size: 116%;">)</span> <span style="color: #909183; font-size: 116%;">{</span> 
      <span style="color: #0000FF; font-size: 116%;">this</span>.item = item; 
      <span style="color: #0000FF; font-size: 116%;">this</span>.next = next; 
    <span style="color: #909183; font-size: 116%;">}</span>
  <span style="color: #7388D6; font-size: 116%;">}</span>


  <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #006699; font-size: 116%;">sumWhile</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">Node</span> <span style="color: #BA36A5; font-size: 116%;">data</span><span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">result</span> = 0;
    <span style="color: #0000FF; font-size: 116%;">while</span> <span style="color: #909183; font-size: 116%;">(</span>data != <span style="color: #D0372D; font-size: 116%;">null</span><span style="color: #909183; font-size: 116%;">)</span> <span style="color: #909183; font-size: 116%;">{</span>
      result += data.item;
      data = data.next;
    <span style="color: #909183; font-size: 116%;">}</span>
    <span style="color: #0000FF; font-size: 116%;">return</span> result;
  <span style="color: #7388D6; font-size: 116%;">}</span>


  <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #006699; font-size: 116%;">sumFor</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">Node</span> <span style="color: #BA36A5; font-size: 116%;">data</span><span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">result</span> = 0;
    <span style="color: #0000FF; font-size: 116%;">for</span> <span style="color: #909183; font-size: 116%;">(</span>; data != <span style="color: #D0372D; font-size: 116%;">null</span>; data = data.next<span style="color: #909183; font-size: 116%;">)</span> <span style="color: #909183; font-size: 116%;">{</span>
      result += data.item;
    <span style="color: #909183; font-size: 116%;">}</span>
    <span style="color: #0000FF; font-size: 116%;">return</span> result;
  <span style="color: #7388D6; font-size: 116%;">}</span>


  <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #006699; font-size: 116%;">sumRecursive</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">Node</span> <span style="color: #BA36A5; font-size: 116%;">data</span><span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #0000FF; font-size: 116%;">if</span> <span style="color: #909183; font-size: 116%;">(</span>data == <span style="color: #D0372D; font-size: 116%;">null</span><span style="color: #909183; font-size: 116%;">)</span> <span style="color: #909183; font-size: 116%;">{</span>
      <span style="color: #0000FF; font-size: 116%;">return</span> 0;
    <span style="color: #909183; font-size: 116%;">}</span> <span style="color: #0000FF; font-size: 116%;">else</span> <span style="color: #909183; font-size: 116%;">{</span>
      <span style="color: #0000FF; font-size: 116%;">return</span> data.item + sumRecursive <span style="color: #709870; font-size: 116%;">(</span>data.next<span style="color: #709870; font-size: 116%;">)</span>;
    <span style="color: #909183; font-size: 116%;">}</span>
  <span style="color: #7388D6; font-size: 116%;">}</span>


  <span style="color: #0000FF; font-size: 116%;">public</span> <span style="color: #0000FF; font-size: 116%;">static</span> <span style="color: #6434A3; font-size: 116%;">void</span> <span style="color: #006699; font-size: 116%;">main</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">String</span><span style="color: #909183; font-size: 116%;">[]</span> <span style="color: #BA36A5; font-size: 116%;">args</span><span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #6434A3; font-size: 116%;">Node</span> <span style="color: #BA36A5; font-size: 116%;">data</span> = <span style="color: #D0372D; font-size: 116%;">null</span>;
    <span style="color: #0000FF; font-size: 116%;">for</span> <span style="color: #909183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">i</span> = args.length - 1; i &gt;= 0; i--<span style="color: #909183; font-size: 116%;">)</span> <span style="color: #909183; font-size: 116%;">{</span>
      data = <span style="color: #0000FF; font-size: 116%;">new</span> <span style="color: #6434A3; font-size: 116%;">Node</span> <span style="color: #709870; font-size: 116%;">(</span>Integer.parseInt <span style="color: #907373; font-size: 116%;">(</span>args<span style="color: #6276BA; font-size: 116%;">[</span>i<span style="color: #6276BA; font-size: 116%;">]</span><span style="color: #907373; font-size: 116%;">)</span>, data<span style="color: #709870; font-size: 116%;">)</span>;
    <span style="color: #909183; font-size: 116%;">}</span>

    System.out.printf <span style="color: #909183; font-size: 116%;">(</span><span style="color: #008000; font-size: 116%;">"sumWhile     = %d%n"</span>, sumWhile <span style="color: #709870; font-size: 116%;">(</span>data<span style="color: #709870; font-size: 116%;">)</span><span style="color: #909183; font-size: 116%;">)</span>;
    System.out.printf <span style="color: #909183; font-size: 116%;">(</span><span style="color: #008000; font-size: 116%;">"sumFor       = %d%n"</span>, sumFor <span style="color: #709870; font-size: 116%;">(</span>data<span style="color: #709870; font-size: 116%;">)</span><span style="color: #909183; font-size: 116%;">)</span>;
    System.out.printf <span style="color: #909183; font-size: 116%;">(</span><span style="color: #008000; font-size: 116%;">"sumRecursive = %d%n"</span>, sumRecursive <span style="color: #709870; font-size: 116%;">(</span>data<span style="color: #709870; font-size: 116%;">)</span><span style="color: #909183; font-size: 116%;">)</span>;
  <span style="color: #7388D6; font-size: 116%;">}</span>
<span style="color: #707183; font-size: 116%;">}</span>
</pre>
</pre>
</div>
</div>
</div>

<div id="outline-container-linked-list-c" class="outline-3">
<h3 id="linked-list-c"><a id="sec-5-3" name="sec-5-3"></a><span class="section-number-3">5.3</span> Solution: Linked List in C</h3>
<div class="outline-text-3" id="text-linked-list-c">

<div class="org-src-container">

<pre class="src src-C"><span style="color: #808080; font-size: 116%;">#include</span> <span style="color: #707183; font-size: 135%;">&lt;</span><span style="color: #008000; font-size: 116%;">stdio.h</span><span style="color: #707183; font-size: 135%;">&gt;</span>
<span style="color: #808080; font-size: 116%;">#include</span> <span style="color: #707183; font-size: 135%;">&lt;</span><span style="color: #008000; font-size: 116%;">stdlib.h</span><span style="color: #707183; font-size: 135%;">&gt;</span>


<span style="color: #0000FF; font-size: 116%;">typedef</span> <span style="color: #0000FF; font-size: 116%;">struct</span> <span style="color: #6434A3; font-size: 116%;">node</span> <span style="color: #6434A3; font-size: 116%;">node</span>;

<span style="color: #0000FF; font-size: 116%;">struct</span> <span style="color: #6434A3; font-size: 116%;">node</span> <span style="color: #707183; font-size: 116%;">{</span>
  <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">item</span>;
  <span style="color: #6434A3; font-size: 116%;">node</span> *<span style="color: #BA36A5; font-size: 116%;">next</span>;
<span style="color: #707183; font-size: 116%;">}</span>;


<span style="color: #6434A3; font-size: 116%;">node</span> *<span style="color: #006699; font-size: 116%;">new_node</span> <span style="color: #707183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">item</span>, <span style="color: #6434A3; font-size: 116%;">node</span> *<span style="color: #BA36A5; font-size: 116%;">next</span><span style="color: #707183; font-size: 116%;">)</span> <span style="color: #707183; font-size: 116%;">{</span>
  <span style="color: #6434A3; font-size: 116%;">node</span> *<span style="color: #BA36A5; font-size: 116%;">result</span> = <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">node</span>*<span style="color: #7388D6; font-size: 116%;">)</span> malloc <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">sizeof</span> <span style="color: #909183; font-size: 116%;">(</span>node<span style="color: #909183; font-size: 116%;">)</span><span style="color: #7388D6; font-size: 116%;">)</span>;
  <span style="color: #0000FF; font-size: 116%;">if</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="font-size: 116%;">!</span>result<span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    fprintf <span style="color: #909183; font-size: 116%;">(</span>stderr, <span style="color: #008000; font-size: 116%;">"malloc failed"</span><span style="color: #909183; font-size: 116%;">)</span>;
    exit <span style="color: #909183; font-size: 116%;">(</span>1<span style="color: #909183; font-size: 116%;">)</span>;
  <span style="color: #7388D6; font-size: 116%;">}</span>
  result-&gt;item = item;
  result-&gt;next = next;
<span style="color: #707183; font-size: 116%;">}</span>


<span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #006699; font-size: 116%;">sum_while</span> <span style="color: #707183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">node</span> *<span style="color: #BA36A5; font-size: 116%;">data</span><span style="color: #707183; font-size: 116%;">)</span> <span style="color: #707183; font-size: 116%;">{</span>
  <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">result</span> = 0;
  <span style="color: #0000FF; font-size: 116%;">while</span> <span style="color: #7388D6; font-size: 116%;">(</span>data<span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    result += data-&gt;item;
    data = data-&gt;next;
  <span style="color: #7388D6; font-size: 116%;">}</span>
  <span style="color: #0000FF; font-size: 116%;">return</span> result;
<span style="color: #707183; font-size: 116%;">}</span>


<span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #006699; font-size: 116%;">sum_for</span> <span style="color: #707183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">node</span> *<span style="color: #BA36A5; font-size: 116%;">data</span><span style="color: #707183; font-size: 116%;">)</span> <span style="color: #707183; font-size: 116%;">{</span>
  <span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">result</span> = 0;
  <span style="color: #0000FF; font-size: 116%;">for</span> <span style="color: #7388D6; font-size: 116%;">(</span>; data; data = data-&gt;next<span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    result += data-&gt;item;
  <span style="color: #7388D6; font-size: 116%;">}</span>
  <span style="color: #0000FF; font-size: 116%;">return</span> result;
<span style="color: #707183; font-size: 116%;">}</span>


<span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #006699; font-size: 116%;">sum_recursive</span> <span style="color: #707183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">node</span> *<span style="color: #BA36A5; font-size: 116%;">data</span><span style="color: #707183; font-size: 116%;">)</span> <span style="color: #707183; font-size: 116%;">{</span>
  <span style="color: #0000FF; font-size: 116%;">if</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="font-size: 116%;">!</span>data<span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #0000FF; font-size: 116%;">return</span> 0;
  <span style="color: #7388D6; font-size: 116%;">}</span> <span style="color: #0000FF; font-size: 116%;">else</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    <span style="color: #0000FF; font-size: 116%;">return</span> data-&gt;item + sum_recursive <span style="color: #909183; font-size: 116%;">(</span>data-&gt;next<span style="color: #909183; font-size: 116%;">)</span>;
  <span style="color: #7388D6; font-size: 116%;">}</span>
<span style="color: #707183; font-size: 116%;">}</span>


<span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #006699; font-size: 116%;">main</span> <span style="color: #707183; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">argc</span>, <span style="color: #6434A3; font-size: 116%;">char</span> **<span style="color: #BA36A5; font-size: 116%;">argv</span><span style="color: #707183; font-size: 116%;">)</span> <span style="color: #707183; font-size: 116%;">{</span>
  <span style="color: #6434A3; font-size: 116%;">node</span> *<span style="color: #BA36A5; font-size: 116%;">data</span> = <span style="color: #D0372D; font-size: 116%;">NULL</span>;
  <span style="color: #0000FF; font-size: 116%;">for</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #6434A3; font-size: 116%;">int</span> <span style="color: #BA36A5; font-size: 116%;">i</span> = argc - 1; i &gt;= 1; i--<span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">{</span>
    data = new_node <span style="color: #909183; font-size: 116%;">(</span>atoi <span style="color: #709870; font-size: 116%;">(</span>argv<span style="color: #907373; font-size: 116%;">[</span>i<span style="color: #907373; font-size: 116%;">]</span><span style="color: #709870; font-size: 116%;">)</span>, data<span style="color: #909183; font-size: 116%;">)</span>;
  <span style="color: #7388D6; font-size: 116%;">}</span>

  printf <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #008000; font-size: 116%;">"sum_while     = %d\n"</span>, sum_while <span style="color: #909183; font-size: 116%;">(</span>data<span style="color: #909183; font-size: 116%;">)</span><span style="color: #7388D6; font-size: 116%;">)</span>;
  printf <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #008000; font-size: 116%;">"sum_for       = %d\n"</span>, sum_for <span style="color: #909183; font-size: 116%;">(</span>data<span style="color: #909183; font-size: 116%;">)</span><span style="color: #7388D6; font-size: 116%;">)</span>;
  printf <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #008000; font-size: 116%;">"sum_recursive = %d\n"</span>, sum_recursive <span style="color: #909183; font-size: 116%;">(</span>data<span style="color: #909183; font-size: 116%;">)</span><span style="color: #7388D6; font-size: 116%;">)</span>;
<span style="color: #707183; font-size: 116%;">}</span>
</pre>
</pre>
</div>
</div>
</div>

<div id="outline-container-strings-scheme" class="outline-3">
<h3 id="strings-scheme"><a id="sec-5-4" name="sec-5-4"></a><span class="section-number-3">5.4</span> Solution: Strings in Scheme</h3>
<div class="outline-text-3" id="text-strings-scheme">

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #8D8D84; font-size: 116%; font-style: italic;">#;&gt;</span> <span style="color: #707183; font-size: 116%;">(</span>string-append <span style="color: #7388D6; font-size: 116%;">(</span>number-&gt;string <span style="color: #909183; font-size: 116%;">(</span>+ <span style="color: #709870; font-size: 116%;">(</span>* <span style="color: #907373; font-size: 116%;">(</span>+ 1 2<span style="color: #907373; font-size: 116%;">)</span> 3<span style="color: #709870; font-size: 116%;">)</span> 4<span style="color: #909183; font-size: 116%;">)</span><span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #008000; font-size: 116%;">" = "</span> <span style="color: #7388D6; font-size: 116%;">(</span>number-&gt;string <span style="color: #909183; font-size: 116%;">(</span>- 16 3<span style="color: #909183; font-size: 116%;">)</span><span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
<span style="color: #008000; font-size: 116%;">"13 = 13"</span>
</pre>
</pre>
</div>
</div>
</div>

<div id="outline-container-functions-scheme" class="outline-3">
<h3 id="functions-scheme"><a id="sec-5-5" name="sec-5-5"></a><span class="section-number-3">5.5</span> Solution: Functions in Scheme</h3>
<div class="outline-text-3" id="text-functions-scheme">

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #8D8D84; font-size: 116%; font-style: italic;">#;&gt;</span> <span style="color: #707183; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">define</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #006699; font-size: 116%;">greet</span> s<span style="color: #7388D6; font-size: 116%;">)</span> <span style="color: #7388D6; font-size: 116%;">(</span>string-append <span style="color: #008000; font-size: 116%;">"hello "</span> s<span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
<span style="color: #8D8D84; font-size: 116%; font-style: italic;">#;&gt;</span> <span style="color: #707183; font-size: 116%;">(</span>greet <span style="color: #008000; font-size: 116%;">"bob"</span><span style="color: #707183; font-size: 116%;">)</span>
<span style="color: #008000; font-size: 116%;">"hello bob"</span>
</pre>
</pre>
</div>
</div>
</div>

<div id="outline-container-booleans-conditionals-scheme" class="outline-3">
<h3 id="booleans-conditionals-scheme"><a id="sec-5-6" name="sec-5-6"></a><span class="section-number-3">5.6</span> Solution: Boolean and Conditionals in Scheme</h3>
<div class="outline-text-3" id="text-booleans-conditionals-scheme">

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">define</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #006699; font-size: 116%;">check-password</span> pw<span style="color: #7388D6; font-size: 116%;">)</span> 
  <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">if</span> <span style="color: #909183; font-size: 116%;">(</span>string=? pw <span style="color: #008000; font-size: 116%;">"Rosebud"</span><span style="color: #909183; font-size: 116%;">)</span>
      <span style="color: #008000; font-size: 116%;">"pass, friend"</span>
      <span style="color: #008000; font-size: 116%;">"get out of here"</span><span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>
</div>
</div>

<div id="outline-container-recursive-functions-scheme" class="outline-3">
<h3 id="recursive-functions-scheme"><a id="sec-5-7" name="sec-5-7"></a><span class="section-number-3">5.7</span> Solution: Recursive Functions in Scheme</h3>
<div class="outline-text-3" id="text-recursive-functions-scheme">

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">define</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #006699; font-size: 116%;">triangle</span> n<span style="color: #7388D6; font-size: 116%;">)</span> 
  <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">if</span> <span style="color: #909183; font-size: 116%;">(</span>&lt;= n 0<span style="color: #909183; font-size: 116%;">)</span>
     0
     <span style="color: #909183; font-size: 116%;">(</span>+ n <span style="color: #709870; font-size: 116%;">(</span>triangle <span style="color: #907373; font-size: 116%;">(</span>- n 1<span style="color: #907373; font-size: 116%;">)</span><span style="color: #709870; font-size: 116%;">)</span><span style="color: #909183; font-size: 116%;">)</span><span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>
</div>
</div>

<div id="outline-container-linked-lists-scheme" class="outline-3">
<h3 id="linked-lists-scheme"><a id="sec-5-8" name="sec-5-8"></a><span class="section-number-3">5.8</span> Solution: Linked Lists in Scheme</h3>
<div class="outline-text-3" id="text-linked-lists-scheme">

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>cons 10 <span style="color: #7388D6; font-size: 116%;">(</span>cons 11 <span style="color: #909183; font-size: 116%;">(</span>cons 12 <span style="color: #709870; font-size: 116%;">(</span>cons 13 <span style="color: #907373; font-size: 116%;">()</span><span style="color: #709870; font-size: 116%;">)</span><span style="color: #909183; font-size: 116%;">)</span><span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>quote <span style="color: #7388D6; font-size: 116%;">(</span>10 11 12 13<span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme">'<span style="color: #707183; font-size: 116%;">(</span>10 11 12 13<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>list 10 11 12 13<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>list <span style="color: #7388D6; font-size: 116%;">(</span>+ 5 5<span style="color: #7388D6; font-size: 116%;">)</span> 11 12 13<span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>cons 10 '<span style="color: #7388D6; font-size: 116%;">(</span>11 12 13<span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>append '<span style="color: #7388D6; font-size: 116%;">(</span>10 11<span style="color: #7388D6; font-size: 116%;">)</span> '<span style="color: #7388D6; font-size: 116%;">(</span>12 13<span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>append '<span style="color: #7388D6; font-size: 116%;">(</span>10<span style="color: #7388D6; font-size: 116%;">)</span> '<span style="color: #7388D6; font-size: 116%;">(</span>11 12 13<span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>append '<span style="color: #7388D6; font-size: 116%;">(</span>10 11 12<span style="color: #7388D6; font-size: 116%;">)</span> '<span style="color: #7388D6; font-size: 116%;">(</span>13<span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span>append '<span style="color: #7388D6; font-size: 116%;">()</span> '<span style="color: #7388D6; font-size: 116%;">(</span>10 11 12 13<span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>
</div>
</div>

<div id="outline-container-recursive-functions-linked-lists-scheme" class="outline-3">
<h3 id="recursive-functions-linked-lists-scheme"><a id="sec-5-9" name="sec-5-9"></a><span class="section-number-3">5.9</span> Solution: Recursive Functions Over Linked Lists in Scheme</h3>
<div class="outline-text-3" id="text-recursive-functions-linked-lists-scheme">

<div class="org-src-container">

<pre class="src src-scheme"><span style="color: #707183; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">define</span> <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #006699; font-size: 116%;">sum</span> l<span style="color: #7388D6; font-size: 116%;">)</span> 
  <span style="color: #7388D6; font-size: 116%;">(</span><span style="color: #0000FF; font-size: 116%;">if</span> <span style="color: #909183; font-size: 116%;">(</span>equal? l <span style="color: #709870; font-size: 116%;">()</span><span style="color: #909183; font-size: 116%;">)</span>
     0
     <span style="color: #909183; font-size: 116%;">(</span>+ <span style="color: #709870; font-size: 116%;">(</span>car l<span style="color: #709870; font-size: 116%;">)</span> <span style="color: #709870; font-size: 116%;">(</span>sum <span style="color: #907373; font-size: 116%;">(</span>cdr l<span style="color: #907373; font-size: 116%;">)</span><span style="color: #709870; font-size: 116%;">)</span><span style="color: #909183; font-size: 116%;">)</span><span style="color: #7388D6; font-size: 116%;">)</span><span style="color: #707183; font-size: 116%;">)</span>
</pre>
</pre>
</div>

<pre class="example">
#;&gt; (sum '(1 2 3))
6
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: James Riely</p>
<p class="date">Created: 2018-01-03 Wed 11:09</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.3.50.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
